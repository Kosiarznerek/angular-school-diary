<div class="row">
  <div class="col-12">

    <!-- Spinner -->
    <div *ngIf="isLoading" class="loading-shade">
      <mat-spinner></mat-spinner>
    </div>

    <!-- Table -->
    <table [class.is-loading]="isLoading" mat-table [dataSource]="dataSource" matSort>

      <!-- Login -->
      <ng-container matColumnDef="login">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Login</th>
        <td mat-cell *matCellDef="let element">{{ element.login }}</td>
      </ng-container>

      <!-- Account type -->
      <ng-container matColumnDef="accountType">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Typ konta</th>
        <td mat-cell *matCellDef="let element">
          <ng-container [ngSwitch]="element.accountType">
            <ng-container *ngSwitchCase="'student'">Uczeń</ng-container>
            <ng-container *ngSwitchCase="'parent'">Rodzic</ng-container>
            <ng-container *ngSwitchCase="'teacher'">Nauczyciel</ng-container>
            <ng-container *ngSwitchCase="'administrator'">Administrator</ng-container>
            <ng-container *ngSwitchDefault>Nieznany</ng-container>
          </ng-container>
        </td>
      </ng-container>

      <!-- Name -->
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Imię</th>
        <td mat-cell *matCellDef="let element">{{ element.name }}</td>
      </ng-container>

      <!-- Surname -->
      <ng-container matColumnDef="surname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Nazwisko</th>
        <td mat-cell *matCellDef="let element">{{ element.surname }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <!-- No data -->
    <div *ngIf="!isLoading && dataSource.data.length === 0" class="no-data">
      Brak dostępnych użytkowników
    </div>

    <!-- Paginator -->
    <mat-paginator [pageSize]="20" [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons></mat-paginator>

  </div>
</div>
